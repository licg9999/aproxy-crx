define("main",function(a){a("pure.css"),a("font-awesome.css"),a("customize.css"),a("$"),a("_");var b=a("overlay"),c=a("itemUtil"),d=a("object"),e=a("validator");d.create({_backgroundPage:chrome.extension.getBackgroundPage(),_$overlay:null,initialize:function(){var a=this;a._backgroundPage.notifier.on("start",a.onStart).on("stop",a.onStop),a._backgroundPage.ProxyStats.started?a.onStart():a.onStop()},onStart:function(){var a=this;a._$overlay&&a._$overlay.ok(),c.reloadItems(function(a){c.checkEmpty()})},onStop:function(){var a=this;c.cleanItems(),c.checkEmpty(),a._$overlay=b.alert({tip:"没有检测到代理服务器"},function(){a._$overlay=null})}});$(".rules > .title > .add").on("click",function(){0===$(".rules > .wrap > .pair .add").length?b.prompt({question:"规则名称",description:"例：小二平台"},function(a,b){if(null!==b){if(!e.nonEmp(b,"规则名称不能为空")||!e.maxLen(b,"规则名称长度不能超过32字",32))return!1;var d=c.addItem({name:b},!0);c.editItem(d),c.checkEmpty()}}):b.alert({tip:"请先保存当前项"})})}),seajs.use("main");