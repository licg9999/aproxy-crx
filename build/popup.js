define("main",function(require){require("pure.css"),require("font-awesome.css"),require("customize.css"),require("$"),require("_");var a=require("overlay"),b=require("itemUtil"),c=require("object"),d=require("validator");c.create({_backgroundPage:chrome.extension.getBackgroundPage(),_$overlay:null,initialize:function(){var a=this;a._backgroundPage.notifier.on("start",a.onStart).on("stop",a.onStop),a._backgroundPage.ProxyStats.started?a.onStart():a.onStop()},onStart:function(){var a=this;a._$overlay&&a._$overlay.ok(),b.reloadItems(function(a){b.checkEmpty()})},onStop:function(){var c=this;b.cleanItems(),b.checkEmpty(),c._$overlay=a.alert({tip:"\u6ca1\u6709\u68c0\u6d4b\u5230\u4ee3\u7406\u670d\u52a1\u5668"},function(){c._$overlay=null})}});$(".rules > .title > .add").on("click",function(){0===$(".rules > .wrap > .pair .add").length?a.prompt({question:"\u89c4\u5219\u540d\u79f0",description:"\u4f8b\uff1a\u5c0f\u4e8c\u5e73\u53f0"},function(a,c){if(null!==c){if(!d.nonEmp(c,"\u89c4\u5219\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a")||!d.maxLen(c,"\u89c4\u5219\u540d\u79f0\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc732\u5b57",32))return!1;var e=b.addItem({name:c},!0);b.editItem(e),b.checkEmpty()}}):a.alert({tip:"\u8bf7\u5148\u4fdd\u5b58\u5f53\u524d\u9879"})})}),seajs.use("main");